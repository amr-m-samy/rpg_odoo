<odoo>
  <data>
    <record id="view_game_asset_tree" model="ir.ui.view">
        <field name="name">game.assets.tree</field>
        <field name="model">game.assets.manager</field>
        <field name="arch" type="xml">
          <list string="Game Assets">
           <header>
             <button name="generate_game_assets_import_and_export" string="Generate Game Assets" type="object" display="always" class="oe_highlight"/>
            </header>  
         <field name="file" widget="image" options='{"zoom": true}'  style="height: 20px;"/>
            <field name="name_key"/>
            <field name="asset_type"/>
            <field name="file_path"/>
            
            <field name="json_file_path"/>
            <field name="json_file"/>
          </list>
        </field>
    </record>

    <record id="view_game_asset_form" model="ir.ui.view">
        <field name="name">game.assets.form</field>
        <field name="model">game.assets.manager</field>
        <field name="arch" type="xml">

            <form>

                <sheet>
                    <group>
                      <field name="name_key" required="1"/>
                      <field name="asset_type" required="1"/>
                      <field name="file_path" invisible="asset_type == 'tilemapconfig'"/>
                      <field name="file" required="1" invisible="asset_type == 'tilemapconfig'"/>
                      <field name="json_file_path" invisible="asset_type == 'image' or asset_type == 'audio'" />
                      <field 
                        name="json_file" 
                        invisible="asset_type == 'image' or asset_type == 'audio' or asset_type == 'json'"
                        required="asset_type == 'atlasconfig' or asset_type == 'aspriteconfig' or asset_type == 'tilemapconfig'"
                        />


                    </group>
                </sheet>
            </form>
        </field>
    </record>

     <!--Action to open the asset list -->
    <record id="action_game_assets" model="ir.actions.act_window">
        <field name="name">Game Assets</field>
        <field name="res_model">game.assets.manager</field>
        <field name="view_mode">list,form</field>
    </record>

     <!--Menu item for the asset interface -->
    <menuitem name="rpg_game" id="menu_root"/>
    <menuitem id="menu_game_assets" name="Game Assets" action="action_game_assets" parent="menu_root"/>
  </data>
</odoo>
